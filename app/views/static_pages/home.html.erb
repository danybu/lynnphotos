
<%= render 'components/navbar', home: true %>

<% cl_url = cl_image_path @lynn_photo.photo, height: 1021, crop: :limit, :quality=>"auto:low" %>
<% puts "new url: #{cl_url}" %>

<div class="mainPhoto" style="background-image:url('<%= cl_url %>'), linear-gradient(to bottom, #FFF, #DDD 75%);">

  <div class="leftBtn btnColumn">
    <%= link_to previousPhoto_path(photo_id: @lynn_photo.id), remote: true do %>
    <i class="fas fa-caret-left"></i>
    <% end %>
  </div>
  <div class="middlePart"></div>
  <div class="rightBtn btnColumn">
    <%= link_to nextPhoto_path(photo_id: @lynn_photo.id), remote: true do %>
    <i class="fas fa-caret-right"></i>
    <% end %>
  </div>
</div>

<%= render 'components/footer' %>

<script>
  let y = setInterval(function(){ console.log("click"); document.querySelector(".rightBtn a").click(); }, 8000);
  document.querySelector(".rightBtn a").addEventListener("click", () => {clearInterval(y)});
  document.querySelector(".leftBtn a").addEventListener("click", () => {clearInterval(y)});
  document.querySelector(".middlePart").addEventListener("click", () => {
    const navBar = document.querySelector(".navbar");
    navBar.classList.toggle("hideDiv");
    const mainPhoto = document.querySelector(".mainPhoto");
    if (navBar.classList.contains("hideDiv")) {
      mainPhoto.style.backgroundSize = "contain";
      mainPhoto.style.marginLeft = "0";
      mainPhoto.style.marginRight = "0";


    } else {
      mainPhoto.style.backgroundSize = "cover";
      mainPhoto.style.marginLeft = "20vh";
      mainPhoto.style.marginRight = "20vh";

    }
    document.querySelector(".footer").classList.toggle("hideDiv");

  });

</script>
